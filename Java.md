| **Версия**   | **Нововведения**                                               | **Примеры кода**                                                                                                                                                                                                                       |
|--------------|---------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Java 8**   | **Лямбда-выражения**                                           | ```java public class HelloWorld { public static void main(String[] args) { System.out.println("Hello, world!"); } } ```                                                                                                                                                             |
|              | Лямбда-выражения упрощают код, делают его более компактным.     | ```java Collections.sort(names, (a, b) -> a.compareTo(b)); ```                                                                                                                                                                                                                                   |
|              | **Stream API**                                                | ```java List<String> out2 = names.stream().filter(s -> s.length() <= 4).collect(Collectors.toList()); ```                                                                                                                                                                             |
|              | Stream API позволяет работать с данными как с потоком.        | ```java List<String> out = new ArrayList<>(); for (String s : names) { if (s.length() <= 4) out.add(s); } ```                                                                                                                                                                             |
|              | **Default-методы**                                            | ```java interface Greeter { default void hello() { System.out.println("Hello"); } } new Greeter(){}.hello(); ```                                                                                                                                                                              |
|              | Интерфейсы могут содержать методы с реализацией.              |                                                                                                                                                                                                                                      |
|              | **Новый API даты/времени (java.time)**                        | ```java Date old = new Date(); LocalDate today = LocalDate.now(); LocalDate bd = LocalDate.of(1990, Month.MAY, 23); System.out.println(Period.between(bd, today).getYears()); ```                                                                                                            |
|              | **Optional**                                                  | ```java Optional.ofNullable(name).map(String::toUpperCase).ifPresent(System.out::println); ```                                                                                                                                                                                           |
| **Java 11**  | **HTTP Client API (java.net.http)**                           | ```java var client = HttpClient.newHttpClient(); var req = HttpRequest.newBuilder(URI.create(url)).GET().build(); var resp = client.send(req, HttpResponse.BodyHandlers.ofString()); ```                                                                                                                                                                                    |
|              | Новый API для работы с HTTP-запросами.                        | ```java HttpURLConnection c = (HttpURLConnection)new URL(url).openConnection(); c.setRequestMethod("GET"); try (InputStream in = c.getInputStream()) { /*…*/ } ```                                                                                                                                                                                    |
|              | **Новые методы String**: isBlank(), lines(), repeat()          | ```java "  \n ".isBlank(); "one\ntwo".lines().forEach(System.out::println); "ha".repeat(3); ```                                                                                                                                                                                    |
|              | **Factory-методы коллекций**                                  | ```java List.of("A", "B", "C"); Map.of("X", 1, "Y", 2); ```                                                                                                                                                                           |
|              | **var для локальных переменных**                              | ```java var msg = "Hello, Java 11!"; Runnable r = () -> { var upper = msg.toUpperCase(); System.out.println(upper); }; new Thread(r).start(); ```                                                                                                                                                                                   |
|              | **Single-file execution**                                     | ```java // Пример: запускаем файл Hello.java без предварительной компиляции // > java Hello.java ```                                                                                                                                                                             |
| **Java 17**  | **Records**                                                   | ```java public record Point(int x, int y) {}```                                                                                                                                                                                          |
|              | **Sealed-классы**                                              | ```java public sealed interface Shape permits Circle, Rectangle {} public final class Circle implements Shape {} public non-sealed class Rectangle implements Shape {}```                                                                                                                                  |
|              | **Pattern-matching для instanceof**                           | ```java Object o = "hello"; if (o instanceof String s) { System.out.println(s); } ```                                                                                                                                                             |
|              | **Улучшённый switch (arrow-case, yield)**                     | ```java DayOfWeek d = DayOfWeek.WEDNESDAY; String type = switch (d) { case SATURDAY, SUNDAY -> "Weekend"; default -> { yield "Weekday"; } }; ```                                                                                          |
|              | **Foreign-Function & Memory API**                             | ```java MemorySegment seg = MemorySegment.allocateNative(4 * Integer.BYTES); seg.setAtIndex(ValueLayout.JAVA_INT, 0, 42); int val = seg.getAtIndex(ValueLayout.JAVA_INT, 0); ```                                                                                                           |
| **Java 21**  | **Виртуальные потоки (Project Loom)**                         | ```java Thread vt = Thread.ofVirtual().start(() -> doWork()); vt.join(); ```                                                                                                                                                                                      |
|              | **Structured Concurrency (инкубация)**                        | ```java try (var scope = new StructuredTaskScope.ShutdownOnFailure()) { var f1 = scope.fork(() -> fetch("A")); var f2 = scope.fork(() -> fetch("B")); scope.join(); scope.throwIfFailed(); System.out.println(f1.resultNow() + f2.resultNow()); } ```                                                                                                     |
|              | **String Templates (preview)**                                | ```java String name = "Alice"; String msg = STR."Hello, \\{name.upperCase()}!"; ```                                                                                                                                                                                    |
|              | **Record Patterns (preview)**                                | ```java record Point(int x, int y) {} Object p = new Point(5, 6); if (p instanceof Point(int x, int y)) { System.out.printf("x=%d, y=%d%n", x, y); } ```                                                                                                                                                                                       |
|              | **Sequenced Collections API**                                 | ```java var seqMap = SequencedCollections.sequencedMap(); seqMap.put("one", 1); String first = seqMap.firstKey(); ```                                                                                                                                                                           |
